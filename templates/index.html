<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>AutoTrader REST API Example - Ilan Patao (2018)</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Bootstrap core CSS -->
    <link href="https://autotrader-api.herokuapp.com/css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="https://autotrader-api.herokuapp.com/css/mdb.min.css" rel="stylesheet">
    <!-- BST core CSS -->
    <link href="https://autotrader-api.herokuapp.com/js/bootstrap-table.min.css" rel="stylesheet">
</head>

<body>
    <div class="container" style="margin-top:25px;">
        <div class="flex-center flex-column">
            <h1 class="animated fadeIn mb-4">AutoTrader REST API Example</h1>

            <h5 class="animated fadeIn mb-3">Written by:
                <a href="mailto:ilan@dangerstudio.com" style="text-decoration:none;">Ilan Patao</a> - 09/16/2017 (Updated 04/29/2018)</h5>

            <p class="animated fadeIn text-muted">AutoTrader updated their EP, with that the previous API code has been broken; thanks to tips from the community
                I went ahead and updated my code; this sample is a simple pull for 'Ford'; you can emulate any search with
                this code and up to every vehicle listing on AutoTrader in real-time. (includes owner, owner type, owner
                e-mails and contact number).</p>


            <div class="table-responsive" id="results">
                <div class="sm-form" style="display:none;">
                    <form name="vupdate" id="vupdate" method="post" enctype="multipart/form-data" action="">
                        <div class="form-row">
                            <div class="col-auto">
                                <label class="sr-only" for="inlineFormInput">Make</label>
                                <input type="text" class="form-control mb-2 mb-sm-0" name="make" placeholder="Vehicle Make" value="">
                            </div>
                            <div class="col-auto">
                                <label class="sr-only" for="inlineFormInput">Modal</label>
                                <input type="text" class="form-control mb-2 mb-sm-0" name="model" placeholder="Vehicle Model" value="">
                            </div>
                            <div class="col-auto">
                                <label class="sr-only" for="inlineFormInput">Zipcode</label>
                                <input type="text" class="form-control mb-2 mb-sm-0" name="zipcode" placeholder="Zipcode" value="">
                            </div>
                            <div class="col-auto">
                                <button type="submit" class="btn btn-success">Update Vehicle</button>
                            </div>
                        </div>
                    </form>
                </div>
                <table id="table" data-toggle="table" data-height="625" data-page-size="100" data-show-columns="true" data-pagination="true"
                    data-search="true" style="display:block;">
                    <thead>
                        <tr>
                            <th data-field="id" data-sortable="true">ID</th>
                            <th data-field="year" data-sortable="true">Year</th>
                            <th data-field="make" data-sortable="true">Make</th>
                            <th data-field="model" data-sortable="true">Model</th>
                            <th data-field="trim" data-sortable="true">Trim</th>
                            <th data-field="color" data-sortable="true">Color</th>
                            <th data-field="miles" data-sortable="true">Miles</th>
                            <th data-field="type" data-sortable="true">Type</th>
                            <th data-field="vin" data-sortable="true">VIN</th>
                            <th data-field="price" data-sortable="true">Price</th>
                            <th data-field="owner" data-sortable="true">Owner</th>
                            <th data-field="phone" data-sortable="true">Phone</th>
                            <th data-field="email" data-sortable="true" data-visible="false">E-Mail</th>
                        </tr>
                        <td>
                            <tbody>
                                {% for car in output %}
                                <tr data-index="{{ loop.index0 }}">
                                    <td>{{ car.id }}</td>
                                    <td>{{ car.year }}</td>
                                    <td>{{ car.make }}</td>
                                    <td>{{ car.model }}</td>
                                    <td>{{ car.trim }}</td>
                                    <td>{{ car.color }}</td>
                                    <td>{{ car.miles }}</td>
                                    <td>{{ car.type }}</td>
                                    <td>{{ car.vin }}</td>
                                    <td>{{ car.price }}</td>
                                    <td>{{ car.owner }}</td>
                                    <td>{{ car.phone }}</td>
                                </tr>
                                {% endfor %}
                            </tbody>
                        </td>
                    </thead>
                </table>
            </div>

            <center>
                <p class="animated fadeIn text-muted">
                    Discovered
                    <b>
                        <?PHP echo $listcount; ?>
                    </b> vehicles for sale with the highest price of
                    <b>
                        <?PHP echo $highprice; ?>
                    </b>, the lowest price of
                    <b>
                        <?PHP echo $lowprice; ?>
                    </b> and the average vehicle is priced at
                    <b>
                        <?PHP echo $avgprice; ?>
                    </b>.
                </p>

                <br>Written by:
                <a href="mailto:ilan@dangerstudio.com" style="text-decoration:none;">Ilan Patao</a> - 09/16/2017 (Updated 04/29/2018)

            </center>
        </div>
    </div>
    <!-- JQuery -->
    <script type="text/javascript" src="https://autotrader-api.herokuapp.com/js/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="https://autotrader-api.herokuapp.com/js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="https://autotrader-api.herokuapp.com/js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="https://autotrader-api.herokuapp.com/js/mdb.min.js"></script>
    <!-- BST core JavaScript -->
    <script type="text/javascript" src="https://autotrader-api.herokuapp.com/js/bootstrap-table.min.js"></script>
</body>
<script>
    $(document).ready(function () {});
</script>

</html>